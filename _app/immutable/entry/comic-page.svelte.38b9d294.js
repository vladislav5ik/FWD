import{S as P,i as R,s as k,y as q,z as G,A as j,g as A,d as B,B as N,k as $,q as b,a as I,l as v,m as C,r as E,h as f,c as L,n as m,b as T,C as l,L as V,u as U,E as D,F as z}from"../chunks/index.fa5136aa.js";import{C as F}from"../chunks/Card.8cb8f150.js";import{d as H}from"../chunks/data.dc88249a.js";function M(n){let t,e,a,s,c,p,d,w,_,i,u,h;return{c(){t=$("div"),e=$("button"),a=b("Get new comic"),s=I(),c=$("h2"),p=b("Comic: "),d=b(n[2]),w=I(),_=$("span"),i=b(n[3]),this.h()},l(r){t=v(r,"DIV",{slot:!0});var o=C(t);e=v(o,"BUTTON",{class:!0});var S=C(e);a=E(S,"Get new comic"),S.forEach(f),s=L(o),c=v(o,"H2",{class:!0});var y=C(c);p=E(y,"Comic: "),d=E(y,n[2]),y.forEach(f),w=L(o),_=v(o,"SPAN",{class:!0});var g=C(_);i=E(g,n[3]),g.forEach(f),o.forEach(f),this.h()},h(){m(e,"class","svelte-1956t5d"),m(c,"class","comic_title"),m(_,"class","comic_date"),m(t,"slot","card-header")},m(r,o){T(r,t,o),l(t,e),l(e,a),l(t,s),l(t,c),l(c,p),l(c,d),l(t,w),l(t,_),l(_,i),u||(h=V(e,"click",n[4]),u=!0)},p(r,o){o&4&&U(d,r[2]),o&8&&U(i,r[3])},d(r){r&&f(t),u=!1,h()}}}function O(n){let t,e,a;return{c(){t=$("div"),e=$("img"),this.h()},l(s){t=v(s,"DIV",{slot:!0});var c=C(t);e=v(c,"IMG",{class:!0,src:!0,alt:!0}),c.forEach(f),this.h()},h(){m(e,"class","comic_img svelte-1956t5d"),D(e.src,a=n[0])||m(e,"src",a),m(e,"alt",n[1]),m(t,"slot","card-body")},m(s,c){T(s,t,c),l(t,e)},p(s,c){c&1&&!D(e.src,a=s[0])&&m(e,"src",a),c&2&&m(e,"alt",s[1])},d(s){s&&f(t)}}}function x(n){let t,e;return t=new F({props:{$$slots:{"card-body":[O],"card-header":[M]},$$scope:{ctx:n}}}),{c(){q(t.$$.fragment)},l(a){G(t.$$.fragment,a)},m(a,s){j(t,a,s),e=!0},p(a,[s]){const c={};s&143&&(c.$$scope={dirty:s,ctx:a}),t.$set(c)},i(a){e||(A(t.$$.fragment,a),e=!0)},o(a){B(t.$$.fragment,a),e=!1},d(a){N(t,a)}}}function J(n,t,e){let{email:a}=t,s="data:,",c="comic",p="Comic title",d="date";async function w(){const i=new URL("https://fwd.innopolis.app/api/hw2"),u={email:a};return i.search=new URLSearchParams(u).toString(),await fetch(i).then(h=>h.json())}async function _(){const i=await w().then(g=>g.toString()),u=new URL("https://getxkcd.vercel.app/api/comic"),h={num:i};u.search=new URLSearchParams(h).toString();const r=await fetch(u).then(g=>g.json()),o=parseInt(r.year),S=parseInt(r.month)-1,y=parseInt(r.day);e(3,d=new Date(o,S,y).toLocaleDateString()),e(2,p=r.title),e(0,s=r.img),e(1,c=r.alt)}return _(),n.$$set=i=>{"email"in i&&e(5,a=i.email)},[s,c,p,d,_,a]}class K extends P{constructor(t){super(),R(this,t,J,x,k,{email:5})}}function Q(n){let t,e;return t=new K({props:{email:H}}),{c(){q(t.$$.fragment)},l(a){G(t.$$.fragment,a)},m(a,s){j(t,a,s),e=!0},p:z,i(a){e||(A(t.$$.fragment,a),e=!0)},o(a){B(t.$$.fragment,a),e=!1},d(a){N(t,a)}}}class Z extends P{constructor(t){super(),R(this,t,null,Q,k,{})}}export{Z as default};

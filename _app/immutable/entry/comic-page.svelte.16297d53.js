import{S as D,i as P,s as R,y as k,z as G,A as j,g as x,d as A,B,k as v,q as b,a as I,l as $,m as C,r as E,h as d,c as L,n as m,b as N,C as l,L as T,u as q,E as U,F as V}from"../chunks/index.fa5136aa.js";import{C as z}from"../chunks/Card.3fb33f5b.js";function F(n){let t,e,a,s,c,f,p,w,_,i,u,h;return{c(){t=v("div"),e=v("button"),a=b("Get new comic"),s=I(),c=v("h2"),f=b("Comic: "),p=b(n[2]),w=I(),_=v("span"),i=b(n[3]),this.h()},l(r){t=$(r,"DIV",{slot:!0});var o=C(t);e=$(o,"BUTTON",{class:!0});var S=C(e);a=E(S,"Get new comic"),S.forEach(d),s=L(o),c=$(o,"H2",{class:!0});var y=C(c);f=E(y,"Comic: "),p=E(y,n[2]),y.forEach(d),w=L(o),_=$(o,"SPAN",{class:!0});var g=C(_);i=E(g,n[3]),g.forEach(d),o.forEach(d),this.h()},h(){m(e,"class","svelte-leq9px"),m(c,"class","comic_title"),m(_,"class","comic_date"),m(t,"slot","card-header")},m(r,o){N(r,t,o),l(t,e),l(e,a),l(t,s),l(t,c),l(c,f),l(c,p),l(t,w),l(t,_),l(_,i),u||(h=T(e,"click",n[4]),u=!0)},p(r,o){o&4&&q(p,r[2]),o&8&&q(i,r[3])},d(r){r&&d(t),u=!1,h()}}}function H(n){let t,e,a;return{c(){t=v("div"),e=v("img"),this.h()},l(s){t=$(s,"DIV",{slot:!0});var c=C(t);e=$(c,"IMG",{class:!0,src:!0,alt:!0}),c.forEach(d),this.h()},h(){m(e,"class","comic_img svelte-leq9px"),U(e.src,a=n[0])||m(e,"src",a),m(e,"alt",n[1]),m(t,"slot","card-body")},m(s,c){N(s,t,c),l(t,e)},p(s,c){c&1&&!U(e.src,a=s[0])&&m(e,"src",a),c&2&&m(e,"alt",s[1])},d(s){s&&d(t)}}}function M(n){let t,e;return t=new z({props:{$$slots:{"card-body":[H],"card-header":[F]},$$scope:{ctx:n}}}),{c(){k(t.$$.fragment)},l(a){G(t.$$.fragment,a)},m(a,s){j(t,a,s),e=!0},p(a,[s]){const c={};s&143&&(c.$$scope={dirty:s,ctx:a}),t.$set(c)},i(a){e||(x(t.$$.fragment,a),e=!0)},o(a){A(t.$$.fragment,a),e=!1},d(a){B(t,a)}}}function O(n,t,e){let{email:a}=t,s="data:,",c="comic",f="Comic title",p="date";async function w(){const i=new URL("https://fwd.innopolis.app/api/hw2"),u={email:a};return i.search=new URLSearchParams(u).toString(),await fetch(i).then(h=>h.json())}async function _(){const i=await w().then(g=>g.toString()),u=new URL("https://getxkcd.vercel.app/api/comic"),h={num:i};u.search=new URLSearchParams(h).toString();const r=await fetch(u).then(g=>g.json()),o=parseInt(r.year),S=parseInt(r.month)-1,y=parseInt(r.day);e(3,p=new Date(o,S,y).toLocaleDateString()),e(2,f=r.title),e(0,s=r.img),e(1,c=r.alt)}return _(),n.$$set=i=>{"email"in i&&e(5,a=i.email)},[s,c,f,p,_,a]}class J extends D{constructor(t){super(),P(this,t,O,M,R,{email:5})}}let K="v.spigin@innopolis.university";function Q(n){let t,e;return t=new J({props:{email:K}}),{c(){k(t.$$.fragment)},l(a){G(t.$$.fragment,a)},m(a,s){j(t,a,s),e=!0},p:V,i(a){e||(x(t.$$.fragment,a),e=!0)},o(a){A(t.$$.fragment,a),e=!1},d(a){B(t,a)}}}class Y extends D{constructor(t){super(),P(this,t,null,Q,R,{})}}export{Y as default};
